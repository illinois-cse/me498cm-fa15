<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8" />
<title>3. Composite Geometry</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="../css/style.css">

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration -->

</head>
<body>
<div class="container" id="notebook-container">

<p><a href="http://cse.illinois.edu/"><img src="https://bytebucket.org/davis68/resources/raw/f7c98d2b95e961fae257707e22a58fa1a2c36bec/logos/baseline_cse_wdmk.png?token=be4cc41d4b2afe594f5b1570a3c5aad96a65f0d6" width="100%"/></a></p>
    <section id="heading" class="clearfix">
      <table><tr><td>
      <div id="logo-heading">
        <img src="../img/fluent-logo1.png"/>
      </div>
      </td></tr><tr><td>
      <h2 id="composite-geometry">3. Composite Geometry</h2>
      <h5 id="april-9-2015-computational-science-and-engineering">April 9, 2015 • Computational Science and Engineering</h5>
      </td></tr></table>
    </section>

<h2 id="contents">Contents</h2>
<ul>
<li><a href="#ex-2">Exercise 3.3: Mixing Tee Redux (In 3D)</a>
<ul>
<li><a href="#ex-2-pre">Preprocessing</a></li>
<li><a href="#ex-2-geom">Geometry</a></li>
<li><a href="#ex-2-mesh">Mesh</a></li>
<li><a href="#ex-2-setup">Setup</a></li>
<ul>
<li><a href="#ex-2-redux-models">Models</a></li>
<li><a href="#ex-2-redux-mesh">Solution Methods</a></li>
</ul></li>
</ul></li>
<li><a href="#conc">Conclusion</a></li>
<li><a href="#credits">Credits</a></li>
</ul>


<table><tr><td>
<hr />
<p><a id='ex-2'></a></p>
<h2 id="exercise-3.3-mixing-tee-redux">Exercise 3.3: Mixing Tee Redux (In 3D)</h2>
<p>Finally, we will return to the original problem in 3D with faster inlet flow rates.</p>
<img src="./img/lab1/lab1-setup-problem.png" width="100%"/>
</td></tr></table>

<table><tr><td>
<p><a id='ex-2-pre'></a></p>
<h2 id="preprocessing">Preprocessing</h2>
<ul>
<li><img src="./img/lab1/lab1-workbench-blank.png" align="right" />Select <code>Fluid Flow (Fluent)</code> from under <code>Analysis Systems</code>. Drag it to the resulting box in the right-hand pane outlined in red. This creates a new Fluent project.</li>
</ul>
</td></tr></table>

<table><tr><td>
<hr />
<p><a id='ex-2-geom'></a></p>
<h2 id="geometry">Geometry</h2>
<ul>
<li><img src="./img/lab1/lab1-workbench-geometry.png" align="right" /><p>Double-click on <img src="./img/ui/fluent-icon-geometry.png"> <code>Geometry</code> to open the ANSYS DesignModeler, the CAD system we will use to create our geometries. </p>
<ul>
<li><img src="./img/lab1/lab1-dm-units.png" align="right" /><p>In the first dialog box, select <code>Centimeter</code> as the base length unit.</p></li>
<li><p>In the <code>Sketching Toolboxes</code> panel on the left, select <code>XYPlane</code> under the top-level node in the tree.</p></li>
<li>Next, select the <code>Sketching</code> tab.
<ul>
<li><p>In the <code>Settings</code> panel, check the <code>Grid</code> option <code>Snap</code> and set the number of minor intervals to <code>2</code>. (This allows us to use half-centimeter increments in our plotting.)</p></li>
<li><p>In the <code>Draw</code> panel, select <code>Rectangle</code>.</p></li>
<li><p>Position your mouse cursor at <code>(0, -15)</code>, click, and drag to <code>(2.5, 15)</code>. This creates a rectangle sketch, which we will rotate around the <span class="math">\(y\)</span>-axis in a moment to create a pipe. (Make sure the coördinates are exact—it it difficult to move a sketch object in DesignModeler, and often easier to just delete your sketch and draw it again.)</p><table><tr><td><img src="./img/lab1/lab1-dm-sketching-rectangle.png" align="right" /></td><td><img src="./img/lab1/lab1-dm-viewport-rectangle.png" /></td></tr></table></li>
<li><img src="./img/lab1/lab1-dm-toolbar-sketch.png" align="right" /><p>We will now create a new sketch by selecting the <code>New Sketch</code> button on the toolbar.</p></li>
<li><p>With the new <code>Sketch2</code>, repeat the forgoing process for a rectangle from <code>(0, 0)</code> to <code>(-15, 1.5)</code>, which we intend to rotate around the <span class="math">\(x\)</span>-axis to represent the hot-water inlet pipe. <img src="./img/lab1/lab1-dm-viewport-rectangle2.png" /></p></li>
</ul></li>
<li>Select the <code>Modeling</code> tab. <code>Sketch1</code> and <code>Sketch2</code> should both appear under <code>XYPlane</code> in the tree. We will now generate these as objects.
<ul>
<li><p>Click on <code>Sketch1</code> and press the <code>Revolve</code> button on the toolbar. <img src="./img/lab1/lab1-dm-viewport-toolbar-extrude.png" /></p></li>
<li><p>Click <code>Apply</code> for <code>Geometry</code>. <img src="./img/lab1/lab1-dm-details-extrude.png" /></p></li>
<li><p>Select <code>Axis</code>. Select the <span class="math">\(y\)</span>-axis and then click <code>Apply</code>.</p></li>
<li><p>A small lightning bolt <img src="./img/ui/fluent-icon-generate.png" style="vertical-align:bottom"> has appeared next to the new entry <code>Revolve1</code> in the tree. This universally means that you need to press the <code>Generate</code> button <img src="./img/ui/fluent-button-generate.png" style="vertical-align:bottom">. Do this now.</p></li>
<li><p>A cylinder appears which intersects the sketched rectangle, indicating that we have successfully created this object.</p></li>
<li><p><img src="./img/lab1/lab1-dm-mixing-tee.png" align="right" /></p><p>Repeat this process for the hot-water inlet pipe, making sure to rotate it around the <span class="math">\(x\)</span>-axis instead of the <span class="math">\(y\)</span>-axis.</p></li>
</ul></li>
<li><p>We now have a complete geometry. Save this project and return to the ANSYS Workbench. <img src="./img/lab1/lab1-dm-mixing-tee-isometric.png" /></p></li>
</ul></li>
</ul>
</td></tr></table>

<table><tr><td>
<hr />
<p><a id='ex-2-mesh'></a></p>
<h2 id="mesh">Mesh</h2>
<ul>
<li>Note that whereas we formerly had only question marks <img src="" /> next to the steps in the project schematic, the <code>Geometry</code> entry now has a check mark <img src="" /> and the <code>Mesh</code> entry has a pending symbol <img src="" />. Double-click on <code>Mesh</code> to enter the ANSYS Meshing tool.
<ul>
<li>Your geometry should be displayed in an isometric three-dimensional view. You may adjust your unit system back to cgs by selecting the appropriate option under the <code>Unit</code> menu. <img src="./img/lab1/lab1-meshing-mixing-tee-isometric.png" /></li>
<li>Note that you can select various pieces of the geometry independently by clicking on each surface. This is a result of having your cursor in <code>Face</code> detection mode <img src="./img/ui/fluent-button-face.png" />.</li>
<li>We will use this to define inlets, outlets, and boundary conditions eventually, but for now we need to do only two things: create named regions (for BC definition later) and create a meshing strategy for each segment of the project.</li>
<li>Select <code>Model→Mesh</code> in the <code>Outline</code> tree at left.
<ul>
<li>In the <code>Details</code> pane, verify that the <code>Physics Preference</code> is <code>CFD</code> and the <code>Solver Preference</code> is <code>Fluent</code>.</li>
<li><img src="./img/lab1/lab1-meshing-method.png" align="right" />Right-click on <code>Mesh</code> and select <code>Insert→Method</code> (make certain that no faces are selected or this won't appear).
<ul>
<li><code>Automatic Method</code> appears as an option.</li>
</ul></li>
<li>In the <code>Details</code> pane, click <code>Geometry</code> and then select the mixing tee object. Click <code>Apply</code>.</li>
<li>Click either <code>Update</code> or <code>Generate Mesh</code>.
<ul>
<li>A progress meter appears briefly while the mesh is generated.</li>
</ul></li>
</ul></li>
<li>We now need to create named areas to refer to in creating boundary conditions.
<ul>
<li>Click the <code>Select Face</code> button.</li>
<li><img src="./img/lab1/lab1-meshing-create-named-selection.png" align="right"/> Rotate the pipe up slightly and select the bottom <span class="math">\(y\)</span>-inlet face. Right-click on it and select <code>Create Named Selection</code>.
<ul>
<li><p><img src="./img/lab1/lab1-meshing-create-named-selection-dialog.png" /></p><p>Name this face <code>inlet-y</code>.</p></li>
</ul></li>
<li>Repeat this process for <code>inlet-x</code> and <code>outlet-y</code>. <!--        - Finally, select both the pipe surfaces by clicking and dragging across them both.  Name this selection `wall-solid`. TODO:should we do this?--></li>
</ul></li>
<li>Return to the ANSYS Workbench by closing this window.</li>
</ul></li>
<li>The <code>Mesh</code> entry often does not automatically update. Select <code>Update Project</code> to force it to update. This takes a few moments. (Incidentally, save often!)</li>
</ul>
</td></tr></table>

<table><tr><td>
<hr />
<p><a id='ex-2-setup'></a></p>
<h2 id="setup">Setup</h2>
<ul>
<li>Now open <code>Setup</code>. This environment is Fluent proper—the rest is scaffolding, either preprocessing or postprocessing.
<ul>
<li>Select <code>Double Precision</code>.</li>
<li>A number of warnings and messages appear as the mesh is loaded and compared.</li>
</ul></li>
</ul>
</td></tr></table>

<table><tr><td>
<hr />
<p>You can do everything the same as before with two exceptions: adding a turbulence model because the resulting flow is higher (although not <em>quite</em> formally turbulent, there are likely to be pockets of turbulence in the flow); and specifying the behavior and quantities of that turbulence model's equations.</p>
<p><a id='ex-2-redux-mesh'></a></p>
<h2 id="redux-mesh">Mesh</h2>
<p>You need to specify the numerical treatment of the turbulent model terms.</p>
<div class="figure">
<img src="./img/lab1/lab1-meshing-setup.png" />

</div>
<p><a id='ex-2-redux-models'></a></p>
<h2 id="redux-models">Models</h2>
<p>Add the energy and turbulence equations into the model to be solved.</p>
<ul>
<li><p>Double click on <code>Viscous</code> and select the <code>Standard</code> <span class="math">\(k\)</span>–<span class="math">\(\epsilon\)</span> model.</p>
<table><tr><td><img src="./img/lab2/setup-energy.png" /></td><td><img src="./img/lab2/setup-turbulence.png" /></td></tr></table>
</li>
</ul>

<p><a id='ex-2-redux-mesh'></a></p>
<h2 id="redux-mesh">Solution Methods</h2>
<p>You need to specify the numerical treatment of the turbulent model terms.</p>
<div class="figure">
<img src="./img/lab1/lab1-meshing-setup.png" />

<p>Finish your simulation and compare the results to the <a href="3.2-mixing-tee-redux-2d.html">2D case</a>.  The outlet velocity profiles at the outlet should be similar.</p>
</td></tr></table>

<hr />
<p><a id='credits'></a></p>
<h2 id="credits">Credits</h2>
<p>Sparsh Chadha, Neal Davis, and Zhongzhong Zhang developed these materials for <a href="http://cse.illinois.edu/">Computational Science and Engineering</a> at the University of Illinois at Urbana–Champaign.</p>
<p><img src="http://i.creativecommons.org/l/by-nc/4.0/88x31.png" align="left"> This content is available under a <a href="https://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 Unported License</a>.</p>
<p><a href="http://cse.illinois.edu/"><img src="https://bytebucket.org/davis68/resources/raw/f7c98d2b95e961fae257707e22a58fa1a2c36bec/logos/baseline_cse_wdmk.png?token=be4cc41d4b2afe594f5b1570a3c5aad96a65f0d6" width="100%"/></a></p>

</div>
</body>
</html>
